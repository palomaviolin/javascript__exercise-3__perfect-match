"use strict";const NUMBER_OF_CARDS_KEY="number_of_cards",FAVORITES_KEY="favorites";let showResultsContainer=document.body.querySelector("#cards-list"),startGameButton=document.body.querySelector("#start-game-button"),counterElem=document.body.querySelector("#counter"),counter=0;function counterIncrement(){counter<=4&&(counter+=1,counterElem.innerText=counter)}function setNumberOfCards(e){localStorage.setItem(NUMBER_OF_CARDS_KEY,e)}function getNumberOfCards(){return localStorage.getItem(NUMBER_OF_CARDS_KEY)}function getLocalStorageFavorites(){let e=localStorage.getItem(FAVORITES_KEY)||"[]";return JSON.parse(e)}function addFavorite(e){let t=getLocalStorageFavorites();t.push(e),localStorage.setItem(FAVORITES_KEY,JSON.stringify(t))}function removeFavorite(e){let t=getLocalStorageFavorites(),o=t.indexOf(e);-1!==o&&t.splice(o,1),localStorage.setItem(FAVORITES_KEY,JSON.stringify(t))}function hasFavorite(e){return-1!==getLocalStorageFavorites().indexOf(e.toString())}function toggleFavorite(e){let t=e.currentTarget;t.classList.toggle("show-result-item-active");let o=t.dataset.showId;o&&(t.classList.contains("show-result-item-active")?addFavorite(o):removeFavorite(o))}function viewPokemonCards(){let e=document.querySelector('input[name="playmethods"]:checked').value;setNumberOfCards(e),fetch(`https://raw.githubusercontent.com/Adalab/cards-data/master/${e}.json`).then(e=>e.json()).then(e=>{showResultsContainer.innerHTML="";for(const t of e){let e=t.image,o=t.pair,r=document.createElement("li");r.className="show-result-item",hasFavorite(t.pair)&&r.classList.add("show-result-item-active"),r.dataset.showId=t.pair;let a=document.createElement("img");a.src=e,r.appendChild(a);let n=document.createElement("p"),c=document.createTextNode(o);n.appendChild(c),r.appendChild(n),r.addEventListener("click",toggleFavorite),r.addEventListener("click",counterIncrement),showResultsContainer.appendChild(r)}})}function init(){let e=getNumberOfCards()||0,t=document.querySelector(`input[name='playmethods'][value='${e}']`);t&&(t.checked=!0)}startGameButton.addEventListener("click",viewPokemonCards),init();